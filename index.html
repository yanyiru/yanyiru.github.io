<!Doctype: HTML w/ Processing>

<html>

  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Brick Breaker</title>
      <script type="text/javascript" src="js/processing.js"></script>
  </head>
  
  <body>
    <h1>Brick Breaker</h1>
    <p>This is a brick breaker game I made in Processing, check it out!</p>
    
    <script type="text/processing">
    
      int totalDots=50;
      Dot[] dots = new Dot[totalDots];

      color fillColor;
      float diameter = 6.0;

      void setup(){
        //define the stage

        size(500,500);
        //the same fill is used for all dots
        fillColor=color(255,0,0);
        fill(fillColor);
        noStroke();
        //create a collection of dots
        for(int i = 0; i<totalDots;i++){
          Dot d = new Dot();
          d.x=random(width);
          d.y=random(height);
          d.vx=random(2)-1;
          d.vy=random(2)-1;
          dots[i]=d;
        }

        background(0);
      }

      void draw(){
        fill(5,25);
        rect(0,0,width,height);

        float r=255;
        float g = 255;
        float b=255;

        for(int i = 0; i<totalDots;i++){
          r=map(dots[i].x,0,width,0,255);
          b=map(dots[i].y,0,height,0,255);
          fill(r,g,b);
          dots[i].update();
          ellipse(dots[i].x, dots[i].y,diameter, diameter);
        }
      }

      //assigns the random x and y to the dot of each iteration

      class Dot{//put this in a new class tab
        float x=0.0;
        float y=0.0;
        float vx=0.0;
        float vy=0.0;

        void update(){
          //update the velocity
          this.vx+=random(2.0)-1.0;
          this.vx*=.96;
          this.vy+=random(2.0)-1.0;
          this.vy*=.96;

          //update the position
          this.x+=this.vx;
          this.y+=this.vy;
          //handle boundary collision
          if(this.x>width){this.x=width;this.vx*=-1.0;}
          if(this.x<0){this.x=0;this.vx*=-1.0;}
          if(this.y>height){this.y=height;this.vy*=-1.0;}
          if(this.y<0){this.y=0;this.vy*=-1.0;}
        }
      }
    </script>
    <canvas id="sketch" style="border: 1px solid black;"></canvas>
    
  </body>
  
</html>
